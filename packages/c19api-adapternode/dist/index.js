"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=t=>{const{created:e,currentAsOf:a}=t;return{created:e,currentAsOf:{icuOccupation:new Date(a.icuOccupation),hospitalized:new Date(a.hospitalized)}}};exports.adaptData=e=>{const{history:a,metaData:r}=e;if(a.length<=1||null===r)throw new Error("C19ApiV2-AdapterNode: Parsing data requires a dataSet containing metaData and a history object with a length longer then 1. Check your API response for errors.");const n=a.map(((e,n)=>((e,a,r,n)=>{const i={index:r,meta:t(e.meta)};delete e._id,delete e.meta;for(const t in e)if(Object.hasOwnProperty.call(e,t)){const r=e[t];i["vaccinated"===t?"vaccination":t]={title:n[t].title,description:n[t].description,threshold:n[t].threshold,unit:n[t].unit,value:r,cases:r,lastValue:a?a[t]:0}}return i})(e,a[n-1],n,r)));return{timeStamp:r.requestTimeStamp,numberOfDataSets:r.numberOfDataSets,history:n,raw:e}};
//# sourceMappingURL=index.js.map
