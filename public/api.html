<!-- @format -->

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="author" content="Sebastian Heinz" />
		<meta
			name="description"
			content="Aktuelle Informationen zum Status der Krankenhausampel in Bayern sowie weitere Kennzahlen zur medizinischen Versorgungslage in einem Ã¼bersichtlichen Dashboard."
		/>
		<title>ðŸš¦Covid 19 - Bayern ||Â API</title>
		<link rel="stylesheet" href="./styles/style.css" />
		<link rel="stylesheet" href="./styles/widget.css" />
		<link rel="stylesheet" href="./styles/resets.css" />
		<script
			type="module"
			src="./scripts/pangolicons.latest.min.mjs"
		></script>
	</head>
	<body>
		<div class="privacy-modal">
			<p>
				Diese Website benutzt Javascript und den Lokalen Speicher deines
				Webbrowsers um zu funtkionieren. Erfahre mehr Ã¼ber deren
				Funktion in der
				<a href="./impressum.html#privacy">Privacy Policy</a>.
			</p>
			<button class="privacy-modal__close">Ok.</button>
		</div>
		<nav>
			<span class="nav-link" style="margin-right: auto">
				<a href="/">ðŸš¦Covid 19 - Bayern</a>
			</span>
			<ul state="false">
				<li class="nav-link">
					<a href="./#data-display">Dashboard</a>
				</li>
				<li class="nav-link">
					<a href="./api">API</a>
				</li>
				<li class="nav-link">
					<a
						href="https://github.com/IamSebastianDev/Covid-19-Widget"
						target="_blank"
						rel="noopener norefferer"
						>Widget<span
							style="font-size: 0.5em; margin-left: 0.4em"
							>fÃ¼r iOS</span
						></a
					>
				</li>
				<li class="nav-link">
					<a
						href="https://github.com/IamSebastianDev/ampeldashboardbayern"
						><i pangolicons="github" stroke-width="1.5"></i
					></a>
				</li>
			</ul>
			<button id="nav-mobile-button">
				<i pangolicons="burger" stroke-width="1.5"></i>
			</button>
		</nav>
		<main>
			<section id="data-display">
				<div id="data-widgets"></div>
			</section>
		</main>

		<footer>
			<p id="footer-disclaimer">
				Die Daten dieser Webseite wurden automatisch erstellt. Die
				Quelle der Daten ist das
				<a
					href="https://www.lgl.bayern.de/gesundheit/infektionsschutz/infektionskrankheiten_a_z/coronavirus/karte_coronavirus/index.htm"
					rel="norefferer noopener"
					target="_blank"
					>Bayrisches Landesamt fÃ¼r Gesundheit und
					Lebensmittelsicherheit</a
				>. Es wird keine Garantie fÃ¼r die Korrektheit der Daten
				Ã¼bernommen.
			</p>
			<p>
				Dieses Projekt ist Open Source mit einer
				<a
					href="https://opensource.org/licenses/MIT"
					target="_blank"
					rel="noopener norefferer"
					>MIT Lizenz</a
				>. Du kannst den kompletten Quellcode
				<a
					href="https://github.com/IamSebastianDev/ampeldashboardbayern"
					target="_blank"
					rel="noopener norefferer"
					>hier</a
				>
				finden.
			</p>
			<p>
				&copy 2021
				<a
					href="https://iamsebastian.dev"
					target="_blank"
					rel="norefferer noopener"
					>Sebastian Heinz</a
				>
				// <a href="./impressum.html">Impressum</a> //
				<a href="./impressum.html#privacy"> Privacy Policy</a>
			</p>
		</footer>
		<script>
			// get the Elements that make up the navigation

			const navButton = document.querySelector('#nav-mobile-button');
			const navList = document.querySelector('nav ul');

			// the method to toggle the nav state

			const toggleNavState = () => {
				// get the current state of the nav menu
				const currentState =
					navList.getAttribute('state') === 'true' ? true : false;

				const { burger, x } = Pangolicons.icons;

				// replace the nav icon
				currentState
					? navButton.firstElementChild.replaceWith(
							burger.toSvg({ 'stroke-width': '1' })
					  )
					: navButton.firstElementChild.replaceWith(
							x.toSvg({ 'stroke-width': '1' })
					  );

				navList.setAttribute('state', !currentState);
			};

			// the event listeners listening for the nav events
			window.addEventListener('click', (ev) => {
				if (
					ev.target.closest('#nav-mobile-button') ||
					ev.target.closest('.nav-link')
				) {
					toggleNavState();
				}
			});
		</script>
		<script>
			// privacy model

			const privacyModal = document.querySelector('.privacy-modal');
			const showModal =
				!window.localStorage.getItem('privacy-modal-seen');

			showModal && privacyModal.setAttribute('visible', '');

			privacyModal.addEventListener('click', (ev) => {
				if (ev.target.matches('.privacy-modal__close')) {
					privacyModal.removeAttribute('visible');
					localStorage.setItem('privacy-modal-seen', true);
				}
			});
		</script>
	</body>
</html>
